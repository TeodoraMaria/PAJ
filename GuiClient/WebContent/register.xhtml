<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Login</title>
	<h:outputStylesheet name="/css/register.css" />
	<h:outputStylesheet name="/css/main.css" />
	<h:outputStylesheet name="/css/bootstrap.min.css" />
	<script src="https://code.jquery.com/jquery-2.2.4.min.js"></script>
	<script
		src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>
	<script
		src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>

	<h:outputScript target="head" name="/js/register.js" />
</h:head>
<h:body>
	<div class="wrapper">
		<div class="col-md-6 col-md-offset-3">
			<h:form id="msform">
				<!-- progressbar -->
				<ul id="progressbar">
					<li class="active">Organization</li>
					<li>Personal details</li>
					<li>Resources</li>
				</ul>
				<!-- fieldsets -->
				<fieldset>
					<h2 class="fs-title">Organization</h2>
					<h3 class="fs-subtitle">Organization name is required in order
						to place you in the correct resource group</h3>
					<div class="form-group">
						<h:selectOneMenu class="form-control"
							value="#{registerBean.selectedOrg}">
							<p:ajax event="change" process="@this" />
							<f:selectItems value="#{registerBean.organizations}"
								var="organization" itemLabel="#{organization.name}"
								itemValue="#{organization.name}" />

						</h:selectOneMenu>
					</div>
					<h:commandButton type="button" name="next" class="next action-button"
						value="Next" action="#{registerBean.setOrg}" />
				</fieldset>
				<fieldset>
					<h2 class="fs-title">Personal details</h2>
					<h3 class="fs-subtitle">Tell us something more about you</h3>
					<div class="form-group">
						<label for="name-field">Name</label>
						<h:inputText class="form-control" aria-describedby="emailHelp"
							id="name-field" required="true" label="Name" placeholder="Name"
							validatorMessage="Enter username"
							value="#{registerBean.registerDTO.name}"></h:inputText>
						<small id="emailHelp" class="form-text text-muted">We'll
							never share your information with anyone else.</small>
					</div>
					<div class="form-group.form-control-sm">
						<label for="surname-field">Surname</label>
						<h:inputText class="form-control" aria-describedby="emailHelp"
							id="surname-field" required="true" label="Surname"
							placeholder="Surname" validatorMessage="Enter surname"
							value="#{registerBean.registerDTO.surname}"></h:inputText>
					</div>
					<input type="button" name="previous"
						class="previous action-button-previous" value="Previous" /> <input
						type="button" name="next" class="next action-button" value="Next" />
				</fieldset>
				<fieldset>
 				<h2 class="fs-title">Resources</h2>
					<h3 class="fs-subtitle">Please select at least one resource</h3>
					#{registerBean.selectedOrg}
					<div class="resource-wrapper">

						<div class="resource">
							<h4>#{registerBean.resources[0].name}</h4>
							<h:selectBooleanCheckbox value="#{registerBean.resourceOneRead}"
								class="select-resource-rights" itemLabel="Read" />
							Read
							<h:selectBooleanCheckbox value="#{registerBean.resourceOneWrite}"
								class="select-resource-rights" itemLabel="Write" />
							Write
							<h:selectBooleanCheckbox value="#{registerBean.resourceOneEdit}"
								class="select-resource-rights" itemLabel="Edit" />
							Edit
						</div>

						<hr />
						<div class="resource">
							<h4>#{registerBean.resources[1].name}</h4>
							<h:selectBooleanCheckbox value="#{registerBean.resourceTwoRead}"
								class="select-resource-rights" itemLabel="Read" />
							Read
							<h:selectBooleanCheckbox value="#{registerBean.resourceTwoWrite}"
								class="select-resource-rights" itemLabel="Write" />
							Write
							<h:selectBooleanCheckbox value="#{registerBean.resourceTwoEdit}"
								class="select-resource-rights" itemLabel="Edit" />
							Edit
						</div>

						<hr />
						<div class="resource">
							<h4>#{registerBean.resources[2].name}</h4>
							<h:selectBooleanCheckbox value="#{registerBean.resourceThreeRead}"
								class="select-resource-rights" itemLabel="Read" />
							Read
							<h:selectBooleanCheckbox value="#{registerBean.resourceThreeWrite}"
								class="select-resource-rights" itemLabel="Write" />
							Write
							<h:selectBooleanCheckbox value="#{registerBean.resourceThreeEdit}"
								class="select-resource-rights" itemLabel="Edit" />
							Edit
						</div>

					</div> 
					<h:commandButton class="next action-button" value="Register"
								 action="#{registerBean.registerUser}"></h:commandButton>
				<h:messages infoStyle="color:darkgreen" errorStyle="color:darkred"></h:messages>
				</fieldset>
			</h:form>
		</div>
	</div>
</h:body>
</html>